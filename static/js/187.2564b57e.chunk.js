"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[187],{1187:function(n,e,t){t.r(e),t.d(e,{default:function(){return vn}});var r,o,a,i,c,s,d,u,l,p,x,h,m,f,g,b,v,w=t(5861),Z=t(4942),y=t(1413),j=t(9439),k=t(4687),C=t.n(k),P=t(2791),z=t(4420),L=t(9085),A=t(2948),S=t(3553),T=function(n){return n.contacts.items},I=function(n){return n.contacts.isLoading.fetchContacts},N=function(n){return n.contacts.isLoading.addContact},_=function(n){return n.contacts.isLoading.deletedContactId},F=function(n){return n.contacts.isLoading.updateContact},E=function(n){return n.contacts.error},q=function(n){return n.filter},D=(0,S.P1)([T,q],(function(n,e){return n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}))})),K=t(8174),U=t(168),B=t(7924),G=B.ZP.form(r||(r=(0,U.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  padding: 20px;\n"]))),J=B.ZP.label(o||(o=(0,U.Z)(["\n  display: block;\n  font-size: 18px;\n  line-height: 1.5;\n  margin: 0 auto;\n\n  @media only screen and (min-width: 1200px) {\n    max-width: 80%;\n  }\n"]))),M=B.ZP.input(a||(a=(0,U.Z)(["\n  display: block;\n  min-width: 400px;\n  padding: 5px 10px;\n  font-size: 16px;\n  font-weight: inherit;\n  font-family: inherit;\n  color: inherit;\n  border: 1px solid #34345664;\n  border-radius: 12px;\n"]))),$=B.ZP.button(i||(i=(0,U.Z)(["\n  display: block;\n  margin: 10px auto;\n  padding: 10px;\n  width: 170px;\n  font-size: 16px;\n  font-weight: inherit;\n  color: #e3e3ee;\n  text-align: center;\n  text-transform: uppercase;\n  cursor: pointer;\n  background-color: #383848;\n  border-radius: 12px;\n  border: none;\n  transition: box-shadow 0.1s, transform 0.1s;\n\n  &:hover {\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n    transform: scale(1.02);\n  }\n"]))),H=t(3329),O=function(n){var e=n.name,t=n.number,r=n.handleChange,o=n.handleSubmit,a=n.isLoading,i=n.buttonText;return(0,H.jsxs)(G,{onSubmit:o,children:[(0,H.jsxs)(J,{htmlFor:"",children:["Name",(0,H.jsx)(M,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan.",required:!0,value:e,onChange:r})]}),(0,H.jsxs)(J,{htmlFor:"",children:["Number",(0,H.jsx)(M,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",title:"number number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:t,onChange:r})]}),(0,H.jsx)($,{type:"submit",children:a?(0,H.jsx)(K.Z,{height:"16",width:"16",colors:["#e3e3ee","#e3e3ee"],size:"s"}):i})]})},Q=function(){var n=(0,z.I0)(),e=(0,z.v9)(T),t=(0,z.v9)(N),r=(0,P.useState)({name:"",number:""}),o=(0,j.Z)(r,2),a=o[0],i=o[1],c=a.name,s=a.number,d=function(){var e=(0,w.Z)(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n((0,A.uK)(a));case 3:L.Am.success('New contact "'.concat(c,'" has been added successfully'),{position:"top-right",theme:"colored"}),i({name:"",number:""}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,H.jsx)(O,{name:c,number:s,handleChange:function(n){var e=n.currentTarget,t=e.name,r=e.value;i((function(n){return(0,y.Z)((0,y.Z)({},n),{},(0,Z.Z)({},t,r))}))},handleSubmit:function(n){n.preventDefault(),e.some((function(n){return n.name.toLowerCase()===c.toLowerCase().trim()}))?L.Am.warn("".concat(c," is already in your contacts"),{position:"top-right",theme:"colored"}):e.some((function(n){return n.number===s.trim()}))?L.Am.warn("".concat(s," is already in your contacts"),{position:"top-right",theme:"colored"}):d()},isLoading:t,buttonText:"Add contact"})},R=function(n){var e=n.contactId,t=n.currentName,r=n.currentNumber,o=n.onSave,a=(0,z.I0)(),i=(0,z.v9)(F),c=(0,P.useState)({id:e,name:t,number:r}),s=(0,j.Z)(c,2),d=s[0],u=s[1],l=d.id,p=d.name,x=d.number;console.log(l);var h=function(){var n=(0,w.Z)(C().mark((function n(){return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a((0,A.Tk)(d));case 3:L.Am.success('Contact "'.concat(p,'" has been updated successfully'),{position:"top-right",theme:"colored"}),o(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();return(0,H.jsx)(O,{name:p,number:x,handleChange:function(n){var e=n.currentTarget,t=e.name,r=e.value;u((function(n){return(0,y.Z)((0,y.Z)({},n),{},(0,Z.Z)({},t,r))}))},handleSubmit:function(n){n.preventDefault(),h()},isLoading:i,buttonText:"Update contact"})},V=t(4164),W=t.p+"static/media/modal.e4229bb014219dcb6fa1.jpg",X=B.ZP.div(c||(c=(0,U.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n"]))),Y=B.ZP.div(s||(s=(0,U.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  max-width: 570px;\n  padding: 60px 0 40px;\n  width: 100%;\n  font-weight: 700;\n  background-image: linear-gradient(\n      to bottom,\n      rgb(210, 200, 200, 0.9),\n      rgb(215, 200, 200, 0.4)\n    ),\n    url(",");\n  background-size: 100%;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  border-radius: 12px;\n  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n"])),W),nn=document.querySelector("#modal-root"),en=function(n){var e=n.onClose,t=n.children;(0,P.useEffect)((function(){var n=function(n){"Escape"===n.code&&e()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]);return(0,V.createPortal)((0,H.jsx)(X,{onClick:function(n){n.currentTarget===n.target&&e()},children:(0,H.jsx)(Y,{children:t})}),nn)},tn=B.ZP.li(d||(d=(0,U.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-transform: uppercase;\n  gap: 10px;\n  padding: 5px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  border-radius: 12px;\n  transition: transform 0.1s;\n\n  &:hover {\n    transform: scale(1.02);\n  }\n"]))),rn=B.ZP.div(u||(u=(0,U.Z)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 10px;\n"]))),on=B.ZP.button(l||(l=(0,U.Z)(["\n  display: block;\n  width: 90px;\n  padding: 10px;\n  font-size: 16px;\n  font-weight: inherit;\n  color: #e3e3ee;\n  text-align: center;\n  text-transform: uppercase;\n  cursor: pointer;\n  background-color: #383848;\n  border-radius: 12px;\n  border: none;\n  transition: box-shadow 0.1s, transform 0.1s;\n\n  &:hover {\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n    transform: scale(1.02);\n  }\n"]))),an=function(n){var e=n.id,t=n.name,r=n.number,o=(0,z.I0)(),a=(0,z.v9)(_),i=(0,P.useState)(!1),c=(0,j.Z)(i,2),s=c[0],d=c[1],u=function(){return d((function(n){return!n}))},l=function(){var n=(0,w.Z)(C().mark((function n(){return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o((0,A.GK)(e));case 3:L.Am.success('Contact "'.concat(t,'" has been deleted successfully'),{position:"top-right",theme:"colored"}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(tn,{children:[(0,H.jsxs)("p",{children:[t,": ",r]}),(0,H.jsxs)(rn,{children:[(0,H.jsx)(on,{type:"button",onClick:u,children:"Update"}),(0,H.jsx)(on,{type:"button",onClick:l,children:a===e?(0,H.jsx)(K.Z,{height:"16",width:"16",colors:["#e3e3ee","#e3e3ee"],size:"s"}):"Delete"})]})]}),s&&(0,H.jsx)(en,{onClose:u,children:(0,H.jsx)(R,{contactId:e,currentName:t,currentNumber:r,onSave:u})})]})},cn=B.ZP.ul(p||(p=(0,U.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 20px;\n\n  @media only screen and (min-width: 1200px) {\n    width: 50%;\n  }\n"]))),sn=function(){var n=(0,z.I0)(),e=(0,z.v9)(I),t=(0,z.v9)(E),r=(0,z.v9)(D);return(0,P.useEffect)((function(){n((0,A.yF)())}),[n]),(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)(cn,{children:[e&&!t&&(0,H.jsx)(K.Z,{height:"60",width:"60",colors:["#383848","#383848"],size:"m"}),r.length>0&&r.map((function(n){return(0,H.jsx)(an,{id:n.id,name:n.name,number:n.number},n.id)}))]})})},dn=t(4821),un=B.ZP.form(x||(x=(0,U.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n"]))),ln=B.ZP.label(h||(h=(0,U.Z)(["\n  display: block;\n  font-size: 18px;\n  line-height: 1.5;\n  margin: 0 auto;\n\n  @media only screen and (min-width: 1200px) {\n    max-width: 80%;\n  }\n"]))),pn=B.ZP.input(m||(m=(0,U.Z)(["\n  display: block;\n  min-width: 400px;\n  padding: 5px 10px;\n  font-size: 16px;\n  font-weight: inherit;\n  font-family: inherit;\n  color: inherit;\n  border: 1px solid #34345664;\n  border-radius: 12px;\n"]))),xn=function(){var n=(0,z.I0)(),e=(0,z.v9)(q);return(0,H.jsx)(un,{children:(0,H.jsxs)(ln,{children:["Find contacts by name",(0,H.jsx)(pn,{type:"text",name:"filter",value:e,onChange:function(e){var t=e.currentTarget.value;n((0,dn.T)(t))}})]})})},hn=t.p+"static/media/contacts-page.ba3691714a8be4459cf8.jpg",mn=B.ZP.section(f||(f=(0,U.Z)(["\n  display: block;\n  min-height: calc(95vh);\n  font-weight: 700;\n  background-image: linear-gradient(\n      to left,\n      rgb(210, 200, 200, 0.9),\n      rgb(215, 200, 200, 0.5)\n    ),\n    url(",");\n  background-size: 100%;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n"])),hn),fn=B.ZP.div(g||(g=(0,U.Z)(["\n  display: flex;\n  padding-top: 20px;\n  justify-content: center;\n\n  @media only screen and (max-width: 1199px) {\n    flex-direction: column;\n    align-items: center;\n  }\n"]))),gn=B.ZP.div(b||(b=(0,U.Z)(["\n  @media only screen and (min-width: 1200px) {\n    width: 50%;\n  }\n"]))),bn=B.ZP.h1(v||(v=(0,U.Z)(["\n  padding-top: 1em;\n  text-align: center;\n  font-size: 34px;\n  line-height: 1.33;\n"]))),vn=function(){return(0,H.jsxs)(mn,{children:[(0,H.jsx)(bn,{children:"Contacts"}),(0,H.jsxs)(fn,{children:[(0,H.jsxs)(gn,{children:[(0,H.jsx)(Q,{}),(0,H.jsx)(xn,{})]}),(0,H.jsx)(sn,{})]})]})}}}]);
//# sourceMappingURL=187.2564b57e.chunk.js.map