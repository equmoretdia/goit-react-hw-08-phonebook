"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[850],{9475:function(n,e,t){t.r(e),t.d(e,{default:function(){return hn}});var r,o,a,i,s,c,u,d,l,p,x,h,m,f=t(5861),b=t(4942),g=t(1413),v=t(9439),w=t(4687),Z=t.n(w),y=t(2791),j=t(4420),k=t(9085),C=t(2948),_=t(3553),P=function(n){return n.contacts.items},z=function(n){return n.contacts.isLoading.fetchContacts},L=function(n){return n.contacts.isLoading.addContact},A=function(n){return n.contacts.isLoading.deletedContactId},N=function(n){return n.contacts.isLoading.updateContact},S=function(n){return n.contacts.error},T=function(n){return n.filter},I=(0,_.P1)([P,T],(function(n,e){return n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}))})),F=t(4894),E=t(168),q=t(7924),D=q.ZP.form(r||(r=(0,E.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  padding: 20px;\n"]))),J=q.ZP.label(o||(o=(0,E.Z)(["\n  display: block;\n  font-size: 18px;\n  line-height: 1.5;\n  margin: 0 auto;\n\n  @media only screen and (min-width: 1200px) {\n    max-width: 80%;\n  }\n"]))),B=q.ZP.input(a||(a=(0,E.Z)(["\n  display: block;\n  min-width: 400px;\n  padding: 5px 10px;\n  font-size: 16px;\n  font-weight: inherit;\n  font-family: inherit;\n  color: inherit;\n  border: 1px solid #34345664;\n  border-radius: 12px;\n"]))),H=q.ZP.button(i||(i=(0,E.Z)(["\n  display: block;\n  margin: 10px auto;\n  padding: 10px;\n  width: 170px;\n  font-size: 16px;\n  font-weight: inherit;\n  color: #e3e3ee;\n  text-align: center;\n  text-transform: uppercase;\n  cursor: pointer;\n  background-color: #383848;\n  border-radius: 12px;\n  border: none;\n  transition: box-shadow 0.1s, transform 0.1s;\n\n  &:hover {\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n    transform: scale(1.02);\n  }\n"]))),K=t(3329),U=function(n){var e=n.name,t=n.number,r=n.handleChange,o=n.handleSubmit,a=n.isLoading,i=n.buttonText;return(0,K.jsxs)(D,{onSubmit:o,children:[(0,K.jsxs)(J,{htmlFor:"",children:["Name",(0,K.jsx)(B,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan.",required:!0,value:e,onChange:r})]}),(0,K.jsxs)(J,{htmlFor:"",children:["Number",(0,K.jsx)(B,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",title:"number number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:t,onChange:r})]}),(0,K.jsx)(H,{type:"submit",children:a?(0,K.jsx)(F.Z,{height:"16",width:"16",colors:["#e3e3ee","#e3e3ee"],size:"s"}):i})]})},W=function(){var n=(0,j.I0)(),e=(0,j.v9)(P),t=(0,j.v9)(L),r=(0,y.useState)({name:"",number:""}),o=(0,v.Z)(r,2),a=o[0],i=o[1],s=a.name,c=a.number,u=function(){var e=(0,f.Z)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n((0,C.uK)(a));case 3:k.Am.success('New contact "'.concat(s,'" has been added successfully'),{position:"top-right",theme:"colored"}),i({name:"",number:""}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,K.jsx)(U,{name:s,number:c,handleChange:function(n){var e=n.currentTarget,t=e.name,r=e.value;i((function(n){return(0,g.Z)((0,g.Z)({},n),{},(0,b.Z)({},t,r))}))},handleSubmit:function(n){n.preventDefault(),e.some((function(n){return n.name.toLowerCase()===s.toLowerCase().trim()}))?k.Am.warn("".concat(s," is already in your contacts"),{position:"top-right",theme:"colored"}):e.some((function(n){return n.number===c.trim()}))?k.Am.warn("".concat(c," is already in your contacts"),{position:"top-right",theme:"colored"}):u()},isLoading:t,buttonText:"Add contact"})},G=function(n){var e=n.contactId,t=n.currentName,r=n.currentNumber,o=n.onSave,a=(0,j.I0)(),i=(0,j.v9)(N),s=(0,y.useState)({id:e,name:t,number:r}),c=(0,v.Z)(s,2),u=c[0],d=c[1],l=u.id,p=u.name,x=u.number;console.log(l);var h=function(){var n=(0,f.Z)(Z().mark((function n(){return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a((0,C.Tk)(u));case 3:k.Am.success('Contact "'.concat(p,'" has been updated successfully'),{position:"top-right",theme:"colored"}),o(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();return(0,K.jsx)(U,{name:p,number:x,handleChange:function(n){var e=n.currentTarget,t=e.name,r=e.value;d((function(n){return(0,g.Z)((0,g.Z)({},n),{},(0,b.Z)({},t,r))}))},handleSubmit:function(n){n.preventDefault(),h()},isLoading:i,buttonText:"Update contact"})},M=t(4164),X=t.p+"static/media/modal.e4229bb014219dcb6fa1.jpg",Y=q.ZP.div(s||(s=(0,E.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n"]))),$=q.ZP.div(c||(c=(0,E.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  max-width: 570px;\n  padding: 60px 0 40px;\n  width: 100%;\n  font-weight: 700;\n  background-image: linear-gradient(\n      to bottom,\n      rgb(210, 200, 200, 0.9),\n      rgb(215, 200, 200, 0.4)\n    ),\n    url(",");\n  background-size: 100%;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  border-radius: 12px;\n  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n"])),X),O=document.querySelector("#modal-root"),Q=function(n){var e=n.onClose,t=n.children;(0,y.useEffect)((function(){var n=function(n){"Escape"===n.code&&e()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]);return(0,M.createPortal)((0,K.jsx)(Y,{onClick:function(n){n.currentTarget===n.target&&e()},children:(0,K.jsx)($,{children:t})}),O)},R=q.ZP.li(u||(u=(0,E.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-transform: uppercase;\n  gap: 10px;\n  padding: 5px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  border-radius: 12px;\n  transition: transform 0.1s;\n\n  &:hover {\n    transform: scale(1.02);\n  }\n"]))),V=q.ZP.div(d||(d=(0,E.Z)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 10px;\n"]))),nn=q.ZP.button(l||(l=(0,E.Z)(["\n  display: block;\n  width: 90px;\n  padding: 10px;\n  font-size: 16px;\n  font-weight: inherit;\n  color: #e3e3ee;\n  text-align: center;\n  text-transform: uppercase;\n  cursor: pointer;\n  background-color: #383848;\n  border-radius: 12px;\n  border: none;\n  transition: box-shadow 0.1s, transform 0.1s;\n\n  &:hover {\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n    transform: scale(1.02);\n  }\n"]))),en=function(n){var e=n.id,t=n.name,r=n.number,o=(0,j.I0)(),a=(0,j.v9)(A),i=(0,y.useState)(!1),s=(0,v.Z)(i,2),c=s[0],u=s[1],d=function(){return u((function(n){return!n}))},l=function(){var n=(0,f.Z)(Z().mark((function n(){return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o((0,C.GK)(e));case 3:k.Am.success('Contact "'.concat(t,'" has been deleted successfully'),{position:"top-right",theme:"colored"}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(R,{children:[(0,K.jsxs)("p",{children:[t,": ",r]}),(0,K.jsxs)(V,{children:[(0,K.jsx)(nn,{type:"button",onClick:d,children:"Update"}),(0,K.jsx)(nn,{type:"button",onClick:l,children:a===e?(0,K.jsx)(F.Z,{height:"16",width:"16",colors:["#e3e3ee","#e3e3ee"],size:"s"}):"Delete"})]})]}),c&&(0,K.jsx)(Q,{onClose:d,children:(0,K.jsx)(G,{contactId:e,currentName:t,currentNumber:r,onSave:d})})]})},tn=q.ZP.ul(p||(p=(0,E.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 20px;\n\n  @media only screen and (min-width: 1200px) {\n    width: 50%;\n  }\n"]))),rn=function(){var n=(0,j.I0)(),e=(0,j.v9)(z),t=(0,j.v9)(S),r=(0,j.v9)(I);return(0,y.useEffect)((function(){n((0,C.yF)())}),[n]),(0,K.jsx)(K.Fragment,{children:(0,K.jsxs)(tn,{children:[e&&!t&&(0,K.jsx)(F.Z,{height:"60",width:"60",colors:["#383848","#383848"],size:"m"}),r.length>0&&r.map((function(n){return(0,K.jsx)(en,{id:n.id,name:n.name,number:n.number},n.id)}))]})})},on=t(4821),an=q.ZP.form(x||(x=(0,E.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n"]))),sn=q.ZP.label(h||(h=(0,E.Z)(["\n  display: block;\n  font-size: 18px;\n  line-height: 1.5;\n  margin: 0 auto;\n\n  @media only screen and (min-width: 1200px) {\n    max-width: 80%;\n  }\n"]))),cn=q.ZP.input(m||(m=(0,E.Z)(["\n  display: block;\n  min-width: 400px;\n  padding: 5px 10px;\n  font-size: 16px;\n  font-weight: inherit;\n  font-family: inherit;\n  color: inherit;\n  border: 1px solid #34345664;\n  border-radius: 12px;\n"]))),un=function(){var n=(0,j.I0)(),e=(0,j.v9)(T);return(0,K.jsx)(an,{children:(0,K.jsxs)(sn,{children:["Find contacts by name",(0,K.jsx)(cn,{type:"text",name:"filter",value:e,onChange:function(e){var t=e.currentTarget.value;n((0,on.T)(t))}})]})})},dn="Contacts_section__lhdxY",ln="Contacts_container__TJkHA",pn="Contacts_service__XBWWt",xn="Contacts_title__HJPSk",hn=function(){return(0,K.jsxs)("section",{className:dn,children:[(0,K.jsx)("h1",{className:xn,children:"Contacts"}),(0,K.jsxs)("div",{className:ln,children:[(0,K.jsxs)("div",{className:pn,children:[(0,K.jsx)(W,{}),(0,K.jsx)(un,{})]}),(0,K.jsx)(rn,{})]})]})}}}]);
//# sourceMappingURL=850.0d06baaa.chunk.js.map